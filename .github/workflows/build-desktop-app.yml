name: ðŸš€ DESQEMU Desktop App Builder

on:
  workflow_dispatch:
    inputs:
      app_name:
        description: 'ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: penpot-desktop)'
        required: true
        type: string
      app_description:
        description: 'ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ'
        required: true
        default: 'Desktop Application'
        type: string
      compose_content:
        description: 'Ð¡Ð¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ docker-compose.yml Ñ„Ð°Ð¹Ð»Ð°'
        required: true
        type: string
      default_port:
        description: 'ÐŸÐ¾Ñ€Ñ‚ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ'
        required: false
        default: '8080'
        type: string
      create_release:
        description: 'Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ GitHub Release'
        required: false
        default: true
        type: boolean

env:
  APP_NAME: ${{ github.event.inputs.app_name }}
  APP_DESCRIPTION: ${{ github.event.inputs.app_description }}
  DEFAULT_PORT: ${{ github.event.inputs.default_port }}

jobs:
  build-desktop-app:
    name: ðŸ—ï¸ Ð¡Ð±Ð¾Ñ€ÐºÐ° Desktop Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
    runs-on: ubuntu-latest
    strategy:
      matrix:
        platform: [linux-x64, win-x64, mac-x64, mac-arm64]
    permissions:
      contents: write
      packages: write
    steps:
      - name: ðŸ“¥ ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð´Ð° Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ
        uses: actions/checkout@v4

      - name: ðŸ”§ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '18'
          cache: 'npm'
          cache-dependency-path: templates/neutralino-app/package.json

      - name: ðŸ“ Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Docker Compose Ñ„Ð°Ð¹Ð»Ð°
        run: |
          echo "ðŸ“ Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ docker-compose.yml Ð¸Ð· Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¾Ð³Ð¾ Ð²Ð²Ð¾Ð´Ð°..."
          cat > docker-compose.yml << 'EOF'
          ${{ github.event.inputs.compose_content }}
          EOF
          
          echo "âœ… Docker Compose Ñ„Ð°Ð¹Ð» ÑÐ¾Ð·Ð´Ð°Ð½:"
          cat docker-compose.yml

      - name: ðŸš€ Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Desktop Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
        run: |
          echo "ðŸš€ Ð—Ð°Ð¿ÑƒÑÐº Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð° Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¹..."
          chmod +x scripts/generate-desktop-app.sh
          scripts/generate-desktop-app.sh "${{ env.APP_NAME }}" "docker-compose.yml" "${{ env.APP_DESCRIPTION }}" "${{ env.DEFAULT_PORT }}"

      - name: ðŸ³ Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÐºÐ°ÑÑ‚Ð¾Ð¼Ð½Ð¾Ð³Ð¾ Docker Ð¾Ð±Ñ€Ð°Ð·Ð° Ñ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸ÐµÐ¼
        run: |
          echo "ðŸ³ Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÐºÐ°ÑÑ‚Ð¾Ð¼Ð½Ð¾Ð³Ð¾ Docker Ð¾Ð±Ñ€Ð°Ð·Ð°..."
          APP_DIR="build/desktop-apps/${{ env.APP_NAME }}"
          
          # Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹ Dockerfile ÐºÐ°Ðº Ð±Ð°Ð·Ñƒ Ð¸ Ð¼Ð¾Ð´Ð¸Ñ„Ð¸Ñ†Ð¸Ñ€ÑƒÐµÐ¼ Ð´Ð»Ñ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
          cat > "$APP_DIR/Dockerfile.app" << 'EOF'
          # Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ð¹ DESQEMU Alpine Ð¾Ð±Ñ€Ð°Ð·
          FROM alpine:3.19
          
          # Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð±Ð°Ð·Ð¾Ð²Ñ‹Ñ… Ð¿Ð°ÐºÐµÑ‚Ð¾Ð² + Docker
          RUN apk add --no-cache \
              docker \
              docker-compose \
              podman \
              bash \
              curl \
              wget \
              qemu-img \
              qemu-system-x86_64
          
          # ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¾Ð³Ð¾ Docker Compose
          COPY resources/docker-compose.yml /app/docker-compose.yml
          
          # Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÑÐºÑ€Ð¸Ð¿Ñ‚Ð° Ð°Ð²Ñ‚Ð¾Ð·Ð°Ð¿ÑƒÑÐºÐ° Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
          RUN echo '#!/bin/sh' > /usr/local/bin/start-app.sh && \
              echo 'cd /app' >> /usr/local/bin/start-app.sh && \
              echo 'docker-compose up -d' >> /usr/local/bin/start-app.sh && \
              echo 'echo "âœ… ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½Ð¾ Ð½Ð° Ð¿Ð¾Ñ€Ñ‚Ñƒ ${{ env.DEFAULT_PORT }}"' >> /usr/local/bin/start-app.sh && \
              echo 'tail -f /dev/null' >> /usr/local/bin/start-app.sh && \
              chmod +x /usr/local/bin/start-app.sh
          
          # ÐÐ²Ñ‚Ð¾Ð·Ð°Ð¿ÑƒÑÐº Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
          CMD ["/usr/local/bin/start-app.sh"]
          EOF
          
          # Ð¡Ð±Ð¾Ñ€ÐºÐ° ÐºÐ°ÑÑ‚Ð¾Ð¼Ð½Ð¾Ð³Ð¾ Ð¾Ð±Ñ€Ð°Ð·Ð°
          DOCKER_IMAGE="desqemu-${{ env.APP_NAME }}:latest"
          cd "$APP_DIR"
          docker build -f Dockerfile.app -t "$DOCKER_IMAGE" .
          cd -
          
          echo "âœ… Docker Ð¾Ð±Ñ€Ð°Ð· ÑÐ¾Ð·Ð´Ð°Ð½: $DOCKER_IMAGE"

      - name: ðŸ’¿ ÐšÐ¾Ð½Ð²ÐµÑ€Ñ‚Ð°Ñ†Ð¸Ñ Docker â†’ QCOW2 (Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ñ alpine-podman-distribution.yml)
        run: |
          echo "ðŸ’¿ ÐšÐ¾Ð½Ð²ÐµÑ€Ñ‚Ð°Ñ†Ð¸Ñ Docker Ð¾Ð±Ñ€Ð°Ð·Ð° Ð² QCOW2..."
          APP_DIR="build/desktop-apps/${{ env.APP_NAME }}"
          DOCKER_IMAGE="desqemu-${{ env.APP_NAME }}:latest"
          
          # Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ QCOW2 Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸
          mkdir -p "$APP_DIR/resources/qcow2"
          
          # Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ð»Ð¾Ð³Ð¸ÐºÑƒ Ð¸Ð· alpine-podman-distribution.yml
          # Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ Docker Ð¾Ð±Ñ€Ð°Ð·Ð° Ð² rootfs
          echo "ðŸ“¦ Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ Docker Ð¾Ð±Ñ€Ð°Ð·Ð° Ð² rootfs..."
          mkdir -p rootfs-temp
          CONTAINER_ID=$(docker create "$DOCKER_IMAGE")
          docker export $CONTAINER_ID | tar -C rootfs-temp -x
          docker rm $CONTAINER_ID
          
          # Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ QCOW2 Ð¾Ð±Ñ€Ð°Ð·Ð°
          echo "ðŸ”§ Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ QCOW2 Ð¾Ð±Ñ€Ð°Ð·Ð°..."
          QCOW2_FILE="$APP_DIR/resources/qcow2/app.qcow2"
          
          # Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° qemu-utils ÐµÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾
          sudo apt-get update && sudo apt-get install -y qemu-utils
          
          # Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ QCOW2 Ñ rootfs
          qemu-img create -f qcow2 "$QCOW2_FILE" 4G
          
          # Ð£Ð¿Ð°ÐºÐ¾Ð²ÐºÐ° rootfs Ð² Ð°Ñ€Ñ…Ð¸Ð² Ð´Ð»Ñ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð² QCOW2
          cd rootfs-temp
          tar -czf "../app-rootfs.tar.gz" \
            --exclude='./dev/*' \
            --exclude='./proc/*' \
            --exclude='./sys/*' \
            --exclude='./tmp/*' \
            --exclude='./run/*' \
            --exclude='./mnt/*' \
            --exclude='./media/*' \
            --exclude='./.dockerenv' \
            .
          cd ..
          
          # Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¼ÐµÑ‚Ð°Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð´Ð»Ñ QCOW2
          echo "# DESQEMU QCOW2 Ð´Ð»Ñ ${{ env.APP_NAME }}" > "$APP_DIR/resources/qcow2/README.md"
          echo "Docker Ð¾Ð±Ñ€Ð°Ð·: $DOCKER_IMAGE" >> "$APP_DIR/resources/qcow2/README.md"
          echo "Ð¡Ð¾Ð·Ð´Ð°Ð½: $(date)" >> "$APP_DIR/resources/qcow2/README.md"
          
          # Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÑÐºÑ€Ð¸Ð¿Ñ‚Ð° Ð·Ð°Ð¿ÑƒÑÐºÐ° QEMU
          chmod +x scripts/docker-to-qcow2.sh
          scripts/docker-to-qcow2.sh "$DOCKER_IMAGE" "$QCOW2_FILE" "4G" || echo "âš ï¸ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ ÑƒÐ¿Ñ€Ð¾Ñ‰ÐµÐ½Ð½ÑƒÑŽ Ð²ÐµÑ€ÑÐ¸ÑŽ"
          
          # ÐžÑ‡Ð¸ÑÑ‚ÐºÐ° Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ñ„Ð°Ð¹Ð»Ð¾Ð²
          rm -rf rootfs-temp app-rootfs.tar.gz
          
          # ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ñ€Ð°Ð·Ð¼ÐµÑ€ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð°
          QCOW2_SIZE=$(du -h "$QCOW2_FILE" | cut -f1 2>/dev/null || echo "N/A")
          echo "âœ… QCOW2 ÑÐ¾Ð·Ð´Ð°Ð½: $QCOW2_SIZE"

      - name: ðŸ“¦ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Neutralino CLI
        run: |
          echo "ðŸ“¦ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Neutralino CLI..."
          npm install -g @neutralinojs/neu
          neu --version

      - name: ðŸ”¨ Ð¡Ð±Ð¾Ñ€ÐºÐ° Neutralino Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
        run: |
          echo "ðŸ”¨ Ð¡Ð±Ð¾Ñ€ÐºÐ° Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð´Ð»Ñ ${{ matrix.platform }}..."
          APP_DIR="build/desktop-apps/${{ env.APP_NAME }}"
          cd "$APP_DIR"
          
          # ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð±Ð¸Ð½Ð°Ñ€Ð½Ð¸ÐºÐ¾Ð² Ð´Ð»Ñ Ñ‚ÐµÐºÑƒÑ‰ÐµÐ¹ Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ñ‹
          neu update
          
          # Ð¡Ð±Ð¾Ñ€ÐºÐ° Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
          neu build --release
          
          # Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð°Ñ€Ñ…Ð¸Ð²Ð° Ð´Ð»Ñ Ñ‚ÐµÐºÑƒÑ‰Ð¾Ð¹ Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ñ‹
          cd dist
          
          case "${{ matrix.platform }}" in
            win-x64)
              zip -r "../${{ env.APP_NAME }}-${{ matrix.platform }}.zip" .
              ;;
            *)
              tar -czf "../${{ env.APP_NAME }}-${{ matrix.platform }}.tar.gz" .
              ;;
          esac
          
          cd ..
          ls -la *.tar.gz *.zip 2>/dev/null || true

      - name: â¬†ï¸ Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð°Ñ€Ñ‚ÐµÑ„Ð°ÐºÑ‚Ð¾Ð²
        uses: actions/upload-artifact@v4
        with:
          name: ${{ env.APP_NAME }}-${{ matrix.platform }}
          path: |
            build/desktop-apps/${{ env.APP_NAME }}/*.tar.gz
            build/desktop-apps/${{ env.APP_NAME }}/*.zip
          retention-days: 30

  create-release:
    name: ðŸ“¦ Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ GitHub Release
    runs-on: ubuntu-latest
    needs: build-desktop-app
    if: ${{ github.event.inputs.create_release == 'true' }}
    permissions:
      contents: write
    steps:
      - name: ðŸ“¥ ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð´Ð° Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ
        uses: actions/checkout@v4

      - name: ðŸ“¦ Ð¡ÐºÐ°Ñ‡Ð¸Ð²Ð°Ð½Ð¸Ðµ Ð²ÑÐµÑ… Ð°Ñ€Ñ‚ÐµÑ„Ð°ÐºÑ‚Ð¾Ð²
        uses: actions/download-artifact@v4
        with:
          pattern: ${{ env.APP_NAME }}-*
          merge-multiple: true

      - name: ðŸ“ Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Release Notes
        run: |
          cat > release-notes.md << EOF
          # ðŸš€ ${{ env.APP_DESCRIPTION }}
          
          **ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð½Ð¾Ðµ desktop Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð½Ð° Ð±Ð°Ð·Ðµ DESQEMU & Neutralino.js**
          
          ## ðŸ“‹ Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¸
          
          - **ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ**: ${{ env.APP_NAME }}
          - **ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ**: ${{ env.APP_DESCRIPTION }}
          - **ÐŸÐ¾Ñ€Ñ‚**: ${{ env.DEFAULT_PORT }}
          - **Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¾**: $(date '+%Y-%m-%d %H:%M:%S UTC')
          
          ## ðŸ’¾ Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ Ð²ÐµÑ€ÑÐ¸Ð¸
          
          - **Windows x64**: \`${{ env.APP_NAME }}-win-x64.zip\`
          - **Linux x64**: \`${{ env.APP_NAME }}-linux-x64.tar.gz\`
          - **macOS Intel**: \`${{ env.APP_NAME }}-mac-x64.tar.gz\`
          - **macOS Apple Silicon**: \`${{ env.APP_NAME }}-mac-arm64.tar.gz\`
          
          ## ðŸƒâ€â™‚ï¸ ÐšÐ°Ðº Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ
          
          1. Ð¡ÐºÐ°Ñ‡Ð°Ð¹Ñ‚Ðµ Ð°Ñ€Ñ…Ð¸Ð² Ð´Ð»Ñ Ð²Ð°ÑˆÐµÐ¹ Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ñ‹
          2. Ð Ð°ÑÐ¿Ð°ÐºÑƒÐ¹Ñ‚Ðµ Ð°Ñ€Ñ…Ð¸Ð²
          3. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ð¸ÑÐ¿Ð¾Ð»Ð½ÑÐµÐ¼Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» \`${{ env.APP_NAME }}\`
          4. ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸:
             - ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ðµ QEMU
             - Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ Ð¼Ð¸ÐºÑ€Ð¾-Ð’Ðœ Ñ Ð²Ð°ÑˆÐ¸Ð¼ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸ÐµÐ¼
             - ÐžÑ‚ÐºÑ€Ð¾ÐµÑ‚ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€ Ð½Ð° localhost:${{ env.DEFAULT_PORT }}
          
          ## ðŸ”§ Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð½Ñ‹Ðµ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ
          
          - **QEMU** (Ð±ÑƒÐ´ÐµÑ‚ Ð¿Ñ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð° Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°)
          - **4GB RAM** (Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼)
          - **1GB ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð¼ÐµÑÑ‚Ð°**
          
          ---
          
          **ðŸ—ï¸ Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¾ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ DESQEMU Desktop App Builder**  
          **ðŸ”— GitHub**: https://github.com/the-homeless-god/desqemu
          EOF

      - name: ðŸ·ï¸ Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ GitHub Release
        uses: softprops/action-gh-release@v1
        with:
          name: "ðŸš€ ${{ env.APP_DESCRIPTION }}"
          body_path: release-notes.md
          tag_name: "${{ env.APP_NAME }}-v${{ github.run_number }}"
          files: |
            *.tar.gz
            *.zip
          draft: false
          prerelease: false
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }} 
